[{"url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/28", "repository_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar", "labels_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/28/comments", "events_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/28/events", "html_url": "https://github.com/xaoxuu/hexo-theme-stellar/issues/28", "id": 978012825, "node_id": "MDU6SXNzdWU5NzgwMTI4MjU=", "number": 28, "title": "相关文章 不显示 cover 图片，设置 `related_posts.auto_cover: true`  时会发生报错。", "user": {"login": "hermitlsr", "id": 84276102, "node_id": "MDQ6VXNlcjg0Mjc2MTAy", "avatar_url": "https://avatars.githubusercontent.com/u/84276102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hermitlsr", "html_url": "https://github.com/hermitlsr", "followers_url": "https://api.github.com/users/hermitlsr/followers", "following_url": "https://api.github.com/users/hermitlsr/following{/other_user}", "gists_url": "https://api.github.com/users/hermitlsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/hermitlsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hermitlsr/subscriptions", "organizations_url": "https://api.github.com/users/hermitlsr/orgs", "repos_url": "https://api.github.com/users/hermitlsr/repos", "events_url": "https://api.github.com/users/hermitlsr/events{/privacy}", "received_events_url": "https://api.github.com/users/hermitlsr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-08-24T11:50:43Z", "updated_at": "2021-08-25T14:22:17Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "## 问题描述\r\n我一开始没有设置  `front-matter.cover` ，使用 `related_posts` 时默认选择了文章的第一个图片。但当我设置了 `cover:` 时，其显示的图片仍然时文章的第一个图片，而非 `cover` 的图片。我重装了 `hexo-related-popular-posts`，但是没有效果。\r\n而当我尝试通过设置 `related_posts.auto_cover: true`  ，来避免其使用第一个图片，会发生如下报错：\r\n\r\n```\r\nERROR TypeError: D:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\layout\\post.ejs:25\r\n    23| </article>\r\n    24| <%- partial('_partial/main/article/read_next') %>\r\n >> 25| <%- partial('_partial/main/article/related_posts') %>\r\n    26| <%- partial('_partial/plugins/comments/layout') %>\r\n    27|\r\n\r\nD:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\layout\\_partial\\main\\article\\related_posts.ejs:16\r\n    14| }\r\n    15| %>\r\n >> 16| <%- layoutDiv() %>\r\n    17|\r\n\r\nCannot read property 'length' of undefined\r\n    at generateHTML (D:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\scripts\\helpers\\related_posts.js:45:43)\r\n    at Object.<anonymous> (D:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\scripts\\helpers\\related_posts.js:77:19)\r\n    at layoutDiv (D:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\layout\\_partial\\main\\article\\related_posts.ejs:15:11)\r\n    at eval (D:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\layout\\_partial\\main\\article\\related_posts.ejs:28:17)\r\n    at related_posts (D:\\myBlog\\hermitlsr-stellar\\node_modules\\ejs\\lib\\ejs.js:682:17)\r\n    at _View._compiledSync (D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\theme\\view.js:132:24)\r\n    at _View.renderSync (D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\theme\\view.js:59:25)\r\n    at Object.partial (D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\plugins\\helper\\partial.js:34:15)\r\n    at eval (D:\\myBlog\\hermitlsr-stellar\\themes\\stellar\\layout\\post.ejs:51:17)\r\n    at post (D:\\myBlog\\hermitlsr-stellar\\node_modules\\ejs\\lib\\ejs.js:682:17)\r\n    at _View._compiled (D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\theme\\view.js:136:50)\r\n    at _View.render (D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\theme\\view.js:39:17)\r\n    at D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\hexo\\index.js:64:21\r\n    at tryCatcher (D:\\myBlog\\hermitlsr-stellar\\node_modules\\bluebird\\js\\release\\util.js:16:23)\r\n    at D:\\myBlog\\hermitlsr-stellar\\node_modules\\bluebird\\js\\release\\method.js:15:34\r\n    at RouteStream._read (D:\\myBlog\\hermitlsr-stellar\\node_modules\\hexo\\lib\\hexo\\router.js:47:5)\r\n    at RouteStream.Readable.read (internal/streams/readable.js:481:10)\r\n    at resume_ (internal/streams/readable.js:977:12)\r\n    at processTicksAndRejections (internal/process/task_queues.js:82:21) {\r\n  path: 'D:\\\\myBlog\\\\hermitlsr-stellar\\\\themes\\\\stellar\\\\layout\\\\post.ejs'\r\n}\r\n```\r\n## 可复现\r\n\r\n下载您网站的源码，并通过 git 方式安装 stellar，使用您的网站源码进行本地测试也是这种效果，但是看您的网站和本地情况不一样：\r\n![1629805590384.png](https://bu.dusays.com/2021/08/24/d942ba39f5c4d.png)\r\n当设置 `related_posts.auto_cover: true`  时，也会出现同样的报错。\r\n\r\n", "performed_via_github_app": null}, {"url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/26", "repository_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar", "labels_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/26/comments", "events_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/26/events", "html_url": "https://github.com/xaoxuu/hexo-theme-stellar/issues/26", "id": 975394731, "node_id": "MDU6SXNzdWU5NzUzOTQ3MzE=", "number": 26, "title": "title和面包屑导航中“主页/文章”的链接没有根据_config.yml中root的配置而变化", "user": {"login": "wangjun-kk", "id": 45030167, "node_id": "MDQ6VXNlcjQ1MDMwMTY3", "avatar_url": "https://avatars.githubusercontent.com/u/45030167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangjun-kk", "html_url": "https://github.com/wangjun-kk", "followers_url": "https://api.github.com/users/wangjun-kk/followers", "following_url": "https://api.github.com/users/wangjun-kk/following{/other_user}", "gists_url": "https://api.github.com/users/wangjun-kk/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangjun-kk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangjun-kk/subscriptions", "organizations_url": "https://api.github.com/users/wangjun-kk/orgs", "repos_url": "https://api.github.com/users/wangjun-kk/repos", "events_url": "https://api.github.com/users/wangjun-kk/events{/privacy}", "received_events_url": "https://api.github.com/users/wangjun-kk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2755353781, "node_id": "MDU6TGFiZWwyNzU1MzUzNzgx", "url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-20T08:37:24Z", "updated_at": "2021-08-20T12:46:29Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "当_config.yml中root有值时，title和面包屑导航中“主页/文章”的链接默认都指向了根目录“/”，而非“/rootValue”", "performed_via_github_app": null}, {"url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/21", "repository_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar", "labels_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/21/comments", "events_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/21/events", "html_url": "https://github.com/xaoxuu/hexo-theme-stellar/issues/21", "id": 962399694, "node_id": "MDU6SXNzdWU5NjIzOTk2OTQ=", "number": 21, "title": "新的评论系统", "user": {"login": "thun888", "id": 63234268, "node_id": "MDQ6VXNlcjYzMjM0MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/63234268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thun888", "html_url": "https://github.com/thun888", "followers_url": "https://api.github.com/users/thun888/followers", "following_url": "https://api.github.com/users/thun888/following{/other_user}", "gists_url": "https://api.github.com/users/thun888/gists{/gist_id}", "starred_url": "https://api.github.com/users/thun888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thun888/subscriptions", "organizations_url": "https://api.github.com/users/thun888/orgs", "repos_url": "https://api.github.com/users/thun888/repos", "events_url": "https://api.github.com/users/thun888/events{/privacy}", "received_events_url": "https://api.github.com/users/thun888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3003805884, "node_id": "MDU6TGFiZWwzMDAzODA1ODg0", "url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/labels/todo", "name": "todo", "color": "FBCA04", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-06T05:04:12Z", "updated_at": "2021-08-11T06:11:24Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "可以添加Artalk作为评论系统( ‵▽′)ψ\r\nhttps://artalk.js.org/", "performed_via_github_app": null}, {"url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/20", "repository_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar", "labels_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/20/comments", "events_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/20/events", "html_url": "https://github.com/xaoxuu/hexo-theme-stellar/issues/20", "id": 958040712, "node_id": "MDU6SXNzdWU5NTgwNDA3MTI=", "number": 20, "title": "侧边栏组件优化", "user": {"login": "xaoxuu", "id": 16400144, "node_id": "MDQ6VXNlcjE2NDAwMTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/16400144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xaoxuu", "html_url": "https://github.com/xaoxuu", "followers_url": "https://api.github.com/users/xaoxuu/followers", "following_url": "https://api.github.com/users/xaoxuu/following{/other_user}", "gists_url": "https://api.github.com/users/xaoxuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xaoxuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xaoxuu/subscriptions", "organizations_url": "https://api.github.com/users/xaoxuu/orgs", "repos_url": "https://api.github.com/users/xaoxuu/repos", "events_url": "https://api.github.com/users/xaoxuu/events{/privacy}", "received_events_url": "https://api.github.com/users/xaoxuu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3003805884, "node_id": "MDU6TGFiZWwzMDAzODA1ODg0", "url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/labels/todo", "name": "todo", "color": "FBCA04", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-02T11:21:23Z", "updated_at": "2021-08-02T11:21:38Z", "closed_at": null, "author_association": "OWNER", "active_lock_reason": null, "body": "- 默认布局配置 `widgets.default_layout` 不再写在侧边栏组件库 `widgets` 下，而是创建一个与之同级的属性，例如 `widget_layout`。提供更细化的默认布局配置。\r\n- markdown 组件的 `content` 值类型改为 string 格式，默认提供多行文本示例。", "performed_via_github_app": null}, {"url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/18", "repository_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar", "labels_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/18/comments", "events_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/18/events", "html_url": "https://github.com/xaoxuu/hexo-theme-stellar/issues/18", "id": 953613233, "node_id": "MDU6SXNzdWU5NTM2MTMyMzM=", "number": 18, "title": "全站tags和categories", "user": {"login": "hermitlsr", "id": 84276102, "node_id": "MDQ6VXNlcjg0Mjc2MTAy", "avatar_url": "https://avatars.githubusercontent.com/u/84276102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hermitlsr", "html_url": "https://github.com/hermitlsr", "followers_url": "https://api.github.com/users/hermitlsr/followers", "following_url": "https://api.github.com/users/hermitlsr/following{/other_user}", "gists_url": "https://api.github.com/users/hermitlsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/hermitlsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hermitlsr/subscriptions", "organizations_url": "https://api.github.com/users/hermitlsr/orgs", "repos_url": "https://api.github.com/users/hermitlsr/repos", "events_url": "https://api.github.com/users/hermitlsr/events{/privacy}", "received_events_url": "https://api.github.com/users/hermitlsr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-27T08:01:06Z", "updated_at": "2021-07-27T16:35:53Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "我发现首页的tags和categories仅对普通的文章生效，而对于layout: wiki 的文章设置tags 和 categories 是无效的，他们并不会归入首页的tag和categories中。而一个项目/笔记可能涉及多方面的内容或技术，有时通过感兴趣的tags来索引或许更方便获得某个项目中自己感兴趣的那部分。\r\n这应该不违背wiki的理念：\r\n>自动意味着 Stellar 可以自动找到一个项目的所有文档分页，生成一个目录树，半自动意味着您可以手动指定顺序、标题、分组，而非依赖文件路径、文件名来排序和显示。\r\n\r\n只是多一个访问到文档的途径。", "performed_via_github_app": null}, {"url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/14", "repository_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar", "labels_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/14/comments", "events_url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/issues/14/events", "html_url": "https://github.com/xaoxuu/hexo-theme-stellar/issues/14", "id": 939636478, "node_id": "MDU6SXNzdWU5Mzk2MzY0Nzg=", "number": 14, "title": "migrated to waline", "user": {"login": "abnerwei", "id": 19216484, "node_id": "MDQ6VXNlcjE5MjE2NDg0", "avatar_url": "https://avatars.githubusercontent.com/u/19216484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abnerwei", "html_url": "https://github.com/abnerwei", "followers_url": "https://api.github.com/users/abnerwei/followers", "following_url": "https://api.github.com/users/abnerwei/following{/other_user}", "gists_url": "https://api.github.com/users/abnerwei/gists{/gist_id}", "starred_url": "https://api.github.com/users/abnerwei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abnerwei/subscriptions", "organizations_url": "https://api.github.com/users/abnerwei/orgs", "repos_url": "https://api.github.com/users/abnerwei/repos", "events_url": "https://api.github.com/users/abnerwei/events{/privacy}", "received_events_url": "https://api.github.com/users/abnerwei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3003805884, "node_id": "MDU6TGFiZWwzMDAzODA1ODg0", "url": "https://api.github.com/repos/xaoxuu/hexo-theme-stellar/labels/todo", "name": "todo", "color": "FBCA04", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-08T09:00:54Z", "updated_at": "2021-07-09T07:05:23Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "valine has stopped open source since 1.4.0, almost no need to modify the code can be migrated to waline", "performed_via_github_app": null}]